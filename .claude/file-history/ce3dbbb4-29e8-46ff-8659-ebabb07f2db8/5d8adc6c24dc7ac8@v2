# ğŸ¦ Bancafi Debt Collection System

> **Democratizing debt trading through blockchain + DAO governance**

Sell ANY debt you're owed (physical OR crypto) for instant cash. Community-controlled protocol.

---

## ğŸ¯ What Is This?

A decentralized marketplace where:
- **Creditors** sell debt they're owed â†’ get instant cash
- **Investors** buy debt at discount â†’ earn returns
- **Community** controls protocol via DAO governance
- **Defaulters** get automatically slashed & blacklisted

### Supports BOTH:
- âœ… **Physical Debt** - Invoices, loans, mortgages, credit card debt
- âœ… **Digital Debt** - Crypto loans, DeFi debt, blockchain liabilities

---

## ğŸš€ Quick Start

### Installation

```bash
npm install
```

### Compile Contracts

```bash
npx hardhat compile
```

### Run Tests

```bash
npx hardhat test
```

### Deploy (Local)

```bash
npx hardhat node
npx hardhat run scripts/deploy.js --network localhost
```

---

## ğŸ“¦ What's Included

### Smart Contracts (7)
1. **DebtToken** - ERC-721 NFTs for debt tokenization
2. **DebtMarketplace** - Trading platform (fixed/auction/offers)
3. **CollectionAutomator** - Automated collection + slashing engine
4. **ComplianceManager** - KYC/AML + institutional onboarding
5. **ReputationManager** - On-chain credit scoring
6. **BancafiToken** - ERC-20 governance token (BAFI)
7. **BancafiDAO** - Decentralized governance (OpenZeppelin Governor)

### Libraries (4)
- **DataTypes** - All structs and enums
- **Errors** - Custom gas-efficient errors
- **Events** - 100+ events for UI tracking
- **DebtCalculations** - Math functions

---

## ğŸ’¡ How It Works

### 1. Sell Your Debt

```
You: "Client owes me $10,000"
     â†“
Tokenize: Mint debt NFT
     â†“
List: Sell for $9,000 (instant cash!)
     â†“
You: Walk away with $9,000 TODAY
```

### 2. Investor Buys

```
Investor sees:
- Debt: $10,000
- Price: $9,000
- Debtor reputation: 750/1000 (Good)
- Collateral: Real estate worth $50K
     â†“
Buys debt token
     â†“
Earns $1,000 profit when debtor pays
```

### 3. Automated Collection

```
Payment due â†’ CollectionAutomator tracks
     â†“
If paid on time: Reputation â†‘
     â†“
If late: Warning issued
     â†“
After 3 warnings: DEFAULT
     â†“
SLASHING EXECUTED:
  â€¢ Security deposit seized
  â€¢ Reputation destroyed
  â€¢ Trading banned (90 days)
  â€¢ Blacklisted everywhere
  â€¢ Collateral liquidated
     â†“
Investor compensated
```

### 4. DAO Governance

```
Token holders vote on:
  â€¢ Protocol upgrades
  â€¢ Fee changes
  â€¢ New features
  â€¢ Treasury spending
  â€¢ Emergency actions
     â†“
Community controls EVERYTHING
```

---

## ğŸ”‘ Key Features

### Debt Tokenization
- âœ… Physical debt (fiat/traditional)
- âœ… Digital debt (crypto/DeFi)
- âœ… Rich metadata
- âœ… Payment tracking
- âœ… Collateral management

### Marketplace
- âœ… Fixed-price listings
- âœ… English auctions
- âœ… Offer system
- âœ… Batch trading
- âœ… Real-time stats

### Slashing System
- âœ… Security deposit forfeiture
- âœ… Reputation penalties
- âœ… Trading bans
- âœ… Automatic blacklisting
- âœ… Collateral liquidation

### Compliance
- âœ… 5-tier KYC (None â†’ Institutional)
- âœ… Institutional onboarding
- âœ… Geographic restrictions
- âœ… Transaction limits
- âœ… Whitelist/blacklist

### Reputation
- âœ… On-chain credit scores (0-1000)
- âœ… Payment history tracking
- âœ… Rehabilitation programs
- âœ… Price adjustments based on score

### DAO Governance
- âœ… Community voting
- âœ… Timelock protection
- âœ… Treasury control
- âœ… Parameter updates
- âœ… Upgrade management

---

## ğŸ“Š Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         DAO (BancafiToken + DAO)        â”‚
â”‚    Community Governance & Control       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ Controls Everything
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Core Protocol Layer            â”‚
â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚DebtToken â”‚  â”‚  DebtMarketplace â”‚    â”‚
â”‚  â”‚(ERC-721) â”‚  â”‚   (Trading)      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚       â”‚                  â”‚               â”‚
â”‚  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚Collectionâ”‚  â”‚   Compliance     â”‚    â”‚
â”‚  â”‚Automator â”‚  â”‚    Manager       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚       â”‚                  â”‚               â”‚
â”‚  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚     ReputationManager           â”‚    â”‚
â”‚  â”‚    (Credit Scoring)             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Ethereum / EVM Chains           â”‚
â”‚  (Mainnet, Polygon, Arbitrum, etc.)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Security

- âœ… OpenZeppelin contracts
- âœ… UUPS upgradeable proxies
- âœ… DAO-controlled upgrades
- âœ… 2-day timelock
- âœ… ReentrancyGuard
- âœ… Role-based access control
- âœ… Pausable (emergencies)
- âœ… Input validation
- âœ… Custom errors (gas efficient)

---

## ğŸ’° Tokenomics (BAFI Token)

- **Max Supply:** 1 Billion BAFI
- **Distribution:**
  - 50% Community (rewards, mining)
  - 20% Team (vested)
  - 20% Treasury (DAO)
  - 10% Ecosystem

- **Use Cases:**
  - Governance voting
  - Fee discounts
  - Staking rewards
  - Liquidity mining

---

## ğŸŒ Supported Networks

- âœ… Ethereum Mainnet
- âœ… Sepolia Testnet
- âœ… Polygon
- âœ… Arbitrum
- âœ… Optimism
- ğŸ”„ More via DAO vote

---

## ğŸ“– Documentation

- [FINAL_PROJECT_OVERVIEW.md](./FINAL_PROJECT_OVERVIEW.md) - Complete system overview
- [UPDATED_ARCHITECTURE.md](./UPDATED_ARCHITECTURE.md) - Technical architecture
- [PROGRESS.md](./PROGRESS.md) - Development progress

---

## ğŸ› ï¸ Tech Stack

- **Blockchain:** Ethereum / EVM
- **Language:** Solidity 0.8.25
- **Framework:** Hardhat
- **Standards:** ERC-721, ERC-20, ERC20Votes
- **Upgrades:** UUPS Proxy Pattern
- **Governance:** OpenZeppelin Governor
- **Libraries:** OpenZeppelin Contracts

---

## ğŸ“ Contract Addresses (Testnet)

Deploy and add addresses here:

```
BancafiToken:         0x...
BancafiDAO:           0x...
ComplianceManager:    0x...
ReputationManager:    0x...
DebtToken:            0x...
CollectionAutomator:  0x...
DebtMarketplace:      0x...
```

---

## ğŸ¤ Contributing

1. Fork the repo
2. Create feature branch
3. Write tests
4. Submit PR

---

## ğŸ“œ License

MIT

---

## ğŸ¯ Use Cases

### Freelancers
"Client owes $5K, payment in 60 days. I need rent NOW!"
â†’ Sell debt for $4.5K instantly

### Small Businesses
"$50K invoice unpaid, need to pay suppliers"
â†’ Tokenize invoice, sell for $45K

### DeFi Users
"Lent 100K USDC, want liquidity"
â†’ Sell loan NFT, get USDC back

### Investors
"Buy debts at 10% discount, earn returns"
â†’ Diversified debt portfolio

### Institutions
"Manage billions in debt portfolios"
â†’ Institutional features + OTC desk

---

## ğŸ“Š Project Stats

- **Total Lines:** ~6,000+
- **Contracts:** 7
- **Libraries:** 4
- **Functions:** 200+
- **Events:** 100+
- **Errors:** 80+
- **Test Coverage:** TBD

---

## ğŸš€ Roadmap

- [x] Core contracts
- [x] DAO governance
- [x] Slashing system
- [x] Compliance layer
- [ ] Comprehensive tests
- [ ] Security audit
- [ ] Frontend UI
- [ ] The Graph indexing
- [ ] Testnet launch
- [ ] Token distribution
- [ ] Mainnet launch

---

## ğŸ’¡ Why Bancafi?

**Problem:** Waiting months for payment kills cash flow

**Solution:** Sell debt instantly, let investors collect

**Impact:**
- Creditors get immediate liquidity
- Investors earn yields
- Debtors build reputation
- Community controls protocol

**Innovation:** First DAO-governed debt marketplace supporting both physical AND digital debt

---

## ğŸ“ Contact

- Website: TBD
- Twitter: TBD
- Discord: TBD
- Email: TBD

---

**Built with â¤ï¸ for the decentralized future**

*Bancafi - Where debt becomes liquid*
